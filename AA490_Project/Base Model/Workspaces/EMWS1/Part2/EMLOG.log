*------------------------------------------------------------*
User:                student
Date:                November 12, 2019
Time:                16:26:19
Site:                70082322
Platform:            X64_10PRO
Maintenance Release: 9.04.01M4P110916
EM Version:          14.2
* 
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "November 12, 2019" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "16:26:18" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Training Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Training Log
Date:                November 12, 2019
Time:                16:26:18
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O18TJF_W "C:\Users\student\Desktop\AA 490\Final Project\AA490_Project\Base Model\Workspaces\EMWS1\Part2\EMTRAIN.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O18TJF_W new;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOG "C:\Users\student\Desktop\AA 490\Final Project\AA490_Project\Base Model\Workspaces\EMWS1\Part2\EMLOG.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "November 12, 2019" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "16:26:18" );
MPRINT(EM_DIAGRAM):   file _LOG;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "User:                student";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "Site:                70082322";
MPRINT(EM_DIAGRAM):   put "Platform:            X64_10PRO";
MPRINT(EM_DIAGRAM):   put "Maintenance Release: 9.04.01M4P110916";
MPRINT(EM_DIAGRAM):   put "EM Version:          14.2";
MPRINT(EM_DIAGRAM):   put "* ";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOGIN "C:\Users\student\Desktop\AA 490\Final Project\AA490_Project\Base Model\Workspaces\EMWS1\Part2\EMTRAIN.log" encoding="UTF-8" NOBOM;
MPRINT(EM_COPYFILE):   data _null_;
MPRINT(EM_COPYFILE):   length line $20000;
MPRINT(EM_COPYFILE):   file _LOG MOD lrecl=20000;
MPRINT(EM_COPYFILE):   fid=fopen("_LOGIN",'i',20000,'v');
MPRINT(EM_COPYFILE):   if fid > 0 then do;
MPRINT(EM_COPYFILE):   do while(^fread(fid));
MPRINT(EM_COPYFILE):   rlen = frlen(fid);
MPRINT(EM_COPYFILE):   rc= fget(fid,line,20000);
MPRINT(EM_COPYFILE):   start = length(line)-length(left(line))+1;
MPRINT(EM_COPYFILE):   line=strip(line);
MPRINT(EM_COPYFILE):   put @start line;
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   if fid > 0 then rc=fclose(fid);
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _LOGIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _LOG mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   filename _LOGIN "C:\Users\student\Desktop\AA 490\Final Project\AA490_Project\Base Model\Workspaces\EMWS1\Part2\EMSCORE.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   file _LOG mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _LOGIN "C:\Users\student\Desktop\AA 490\Final Project\AA490_Project\Base Model\Workspaces\EMWS1\Part2\EMREPORT.log" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _LOGIN;
MPRINT(EM_DIAGRAM):    filename _LOG;
MPRINT(EM_DIAGRAM):    filename _OUT "C:\Users\student\Desktop\AA 490\Final Project\AA490_Project\Base Model\Workspaces\EMWS1\Part2\EMOUTPUT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "November 12, 2019" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "16:26:18" );
MPRINT(EM_DIAGRAM):   file _OUT;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "User:                student";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Training Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "C:\Users\student\Desktop\AA 490\Final Project\AA490_Project\Base Model\Workspaces\EMWS1\Part2\EMTRAIN.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   ;
MPRINT(EM_COPYFILE):   data _null_;
MPRINT(EM_COPYFILE):   length line $20000;
MPRINT(EM_COPYFILE):   file _OUT MOD lrecl=20000;
MPRINT(EM_COPYFILE):   fid=fopen("_OUTIN",'i',20000,'v');
MPRINT(EM_COPYFILE):   if fid > 0 then do;
MPRINT(EM_COPYFILE):   do while(^fread(fid));
MPRINT(EM_COPYFILE):   rlen = frlen(fid);
MPRINT(EM_COPYFILE):   rc= fget(fid,line,20000);
MPRINT(EM_COPYFILE):   start = length(line)-length(left(line))+1;
MPRINT(EM_COPYFILE):   line=strip(line);
MPRINT(EM_COPYFILE):   put @start line;
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   if fid > 0 then rc=fclose(fid);
MPRINT(EM_COPYFILE):   end;
MPRINT(EM_COPYFILE):   run;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _OUT mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   put // "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Score Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "C:\Users\student\Desktop\AA 490\Final Project\AA490_Project\Base Model\Workspaces\EMWS1\Part2\EMSCORE.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   file _OUT mod;
MPRINT(EM_DIAGRAM):   put _page_;
MPRINT(EM_DIAGRAM):   put // "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Report Output";
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    filename _OUTIN "C:\Users\student\Desktop\AA 490\Final Project\AA490_Project\Base Model\Workspaces\EMWS1\Part2\EMREPORT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   filename _OUTIN;
MPRINT(EM_DIAGRAM):    filename _OUT;
MPRINT(EM_DIAGRAM):    filename _emtool_ 'C:\Users\student\Desktop\AA 490\Final Project\AA490_Project\Base Model\Workspaces\EMWS1\Part2\EMRUNSTATUS.xml' encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):    filename _emtool_ 'C:\Users\student\Desktop\AA 490\Final Project\AA490_Project\Base Model\Workspaces\EMWS1\Part2\EMRUNSTATUS.xml' encoding="UTF-8" NOBOM;
28512      proc freq data=EMWS1.Part2_VariableSet noprint;
MPRINT(EM_DIAGRAM):    proc freq data=EMWS1.Part2_VariableSet noprint;
28513      table ROLE*LEVEL/out=WORK.Part2META;
MPRINT(EM_DIAGRAM):   table ROLE*LEVEL/out=WORK.Part2META;
28514      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set EMWS1.PART2_VARIABLESET.
NOTE: The data set WORK.PART2META has 3 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
28515      proc print data=WORK.Part2META label noobs;
MPRINT(EM_DIAGRAM):   proc print data=WORK.Part2META label noobs;
28516      var ROLE LEVEL COUNT;
MPRINT(EM_DIAGRAM):   var ROLE LEVEL COUNT;
28517      label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label ROLE = "Role" LEVEL = "Measurement Level" COUNT = "Frequency Count";
28518      title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
28519      title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Variable Summary";
MPRINT(EM_DIAGRAM):   run;
28520      run;
 
NOTE: There were 3 observations read from the data set WORK.PART2META.
NOTE: The PROCEDURE PRINT printed page 5.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
28521      title10;
MPRINT(EM_DIAGRAM):   title10;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * Part2: Preparing metadata for Training;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   data WORK.M1CXRAQG;
MPRINT(EM_DIAGRAM):   set WORK.M1CXRAQG;
MPRINT(EM_DIAGRAM):   where(PARTITIONROLE ne '' or ROLE='TARGET');
MPRINT(EM_DIAGRAM):   run;
28529      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
28530      * Part2: Determine number of observations;
MPRINT(EM_DIAGRAM):   * Part2: Determine number of observations;
28531      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
28532      proc sql;
MPRINT(EM_DIAGRAM):   proc sql;
28533      reset noprint;
MPRINT(EM_DIAGRAM):   reset noprint;
28534      select count(*) into :_tmpa from EMWS1.Stat3_TRAIN
28535      ;
MPRINT(EM_DIAGRAM):   select count(*) into :_tmpa from EMWS1.Stat3_TRAIN ;
NOTE: There were 1575 observations read from the data set DISEASE.OG_DISEASE_AND_PROJECTED.
NOTE: View EMWS1.STAT3_TRAIN.VIEW used (Total process time):
      real time           0.02 seconds
      cpu time            0.03 seconds
 
NOTE: There were 1575 observations read from the data set EMWS1.IDS_DATA.
28536      quit;
MPRINT(EM_DIAGRAM):   quit;
NOTE: PROCEDURE SQL used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
 
trainPct=40 validatePct=30 testPct=30
28537      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
28538      * Part2: Create random partition;
MPRINT(EM_DIAGRAM):   * Part2: Create random partition;
28539      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
28540      data
28541      EMWS1.Part2_TRAIN(label="")
28542      EMWS1.Part2_VALIDATE(label="")
28543      EMWS1.Part2_TEST(label="")
28544      ;
MPRINT(EM_DIAGRAM):   data EMWS1.Part2_TRAIN(label="") EMWS1.PART2_VALIDATE(label="") EMWS1.PART2_TEST(label="") ;
28545      retain _seed_ 12345;
MPRINT(EM_DIAGRAM):   retain _seed_ 12345;
28546      drop _seed_ _genvalue_;
MPRINT(EM_DIAGRAM):   drop _seed_ _genvalue_;
28547      call ranuni(_seed_, _genvalue_);
MPRINT(EM_DIAGRAM):   call ranuni(_seed_, _genvalue_);
28548      label _dataobs_ = "%sysfunc(sasmsg(sashelp.dmine, sample_dataobs_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label _dataobs_ = "Observation Number";
28549      _dataobs_ = _N_;
MPRINT(EM_DIAGRAM):   _dataobs_ = _N_;
28550      drop _c00:;
MPRINT(EM_DIAGRAM):   drop _c00:;
28551      set EMWS1.Stat3_TRAIN;
MPRINT(EM_DIAGRAM):   set EMWS1.Stat3_TRAIN;
28552      if (1575+1-_n_)*_genvalue_ <= (630 - _C000001) then do;
MPRINT(EM_DIAGRAM):   if (1575+1-_n_)*_genvalue_ <= (630 - _C000001) then do;
28553      _C000001 + 1;
MPRINT(EM_DIAGRAM):   _C000001 + 1;
28554      output EMWS1.Part2_TRAIN;
MPRINT(EM_DIAGRAM):   output EMWS1.Part2_TRAIN;
28555      end;
MPRINT(EM_DIAGRAM):   end;
28556      else if (1575+1-_n_)*_genvalue_ <= (630 - _C000001 + 473 - _C000002) then do;
MPRINT(EM_DIAGRAM):   else if (1575+1-_n_)*_genvalue_ <= (630 - _C000001 + 473 - _C000002) then do;
28557      _C000002 + 1;
MPRINT(EM_DIAGRAM):   _C000002 + 1;
28558      output EMWS1.Part2_VALIDATE;
MPRINT(EM_DIAGRAM):   output EMWS1.Part2_VALIDATE;
28559      end;
MPRINT(EM_DIAGRAM):   end;
28560      else do;
MPRINT(EM_DIAGRAM):   else do;
28561      _C000003 + 1;
MPRINT(EM_DIAGRAM):   _C000003 + 1;
28562      output EMWS1.Part2_TEST;
MPRINT(EM_DIAGRAM):   output EMWS1.Part2_TEST;
28563      end;
MPRINT(EM_DIAGRAM):   end;
28564      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1575 observations read from the data set DISEASE.OG_DISEASE_AND_PROJECTED.
NOTE: View EMWS1.STAT3_TRAIN.VIEW used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
NOTE: There were 1575 observations read from the data set EMWS1.IDS_DATA.
NOTE: There were 1575 observations read from the data set EMWS1.STAT3_TRAIN.
NOTE: The data set EMWS1.PART2_TRAIN has 630 observations and 7 variables.
NOTE: The data set EMWS1.PART2_VALIDATE has 473 observations and 7 variables.
NOTE: The data set EMWS1.PART2_TEST has 472 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.05 seconds
      cpu time            0.06 seconds
 
 
MPRINT(EM_DIAGRAM):   run;
28565      run;
 
28566      data _tempNobs;
MPRINT(EM_DIAGRAM):    data _tempNobs;
28567      length Type $8 Table $32 Nobs 8;
MPRINT(EM_DIAGRAM):   length Type $8 Table $32 Nobs 8;
28568      label type= "%sysfunc(sasmsg(sashelp.dmine, meta_type_vlabel,    NOQUOTE))" table = "%sysfunc(sasmsg(sashelp.dmine, meta_dataset_vlabel, NOQUOTE))" nobs = "%sysfunc(sasmsg(sashelp.dmine,  rpt_numObs_vlabel,   NOQUOTE))";
MPRINT(EM_DIAGRAM):   label type= "Type" table = "Data Set" nobs = "Number of Observations";
28569      type='DATA';
MPRINT(EM_DIAGRAM):   type='DATA';
28570      table="EMWS1.Stat3_TRAIN";
MPRINT(EM_DIAGRAM):   table="EMWS1.Stat3_TRAIN";
28571      Nobs=1575;
MPRINT(EM_DIAGRAM):   Nobs=1575;
28572      output;
MPRINT(EM_DIAGRAM):   output;
28573      type='TRAIN';
MPRINT(EM_DIAGRAM):   type='TRAIN';
28574      table="EMWS1.Part2_TRAIN";
MPRINT(EM_DIAGRAM):   table="EMWS1.Part2_TRAIN";
28575      Nobs=630;
MPRINT(EM_DIAGRAM):   Nobs=630;
28576      output;
MPRINT(EM_DIAGRAM):   output;
28577      type='VALIDATE';
MPRINT(EM_DIAGRAM):   type='VALIDATE';
28578      table="EMWS1.Part2_VALIDATE";
MPRINT(EM_DIAGRAM):   table="EMWS1.Part2_VALIDATE";
28579      Nobs=473;
MPRINT(EM_DIAGRAM):   Nobs=473;
28580      output;
MPRINT(EM_DIAGRAM):   output;
28581      type='TEST';
MPRINT(EM_DIAGRAM):   type='TEST';
28582      table="EMWS1.Part2_TEST";
MPRINT(EM_DIAGRAM):   table="EMWS1.Part2_TEST";
28583      Nobs=472;
MPRINT(EM_DIAGRAM):   Nobs=472;
28584      output;
MPRINT(EM_DIAGRAM):   output;
28585      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: The data set WORK._TEMPNOBS has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
28586      %let _cn = %sysfunc(getoption(CENTER));
28587      %let _nb = %sysfunc(getoption(NUMBER));
28588      options nonumber nocenter;
MPRINT(EM_DIAGRAM):   options nonumber nocenter;
28589      proc print data=_tempNobs noobs label;
MPRINT(EM_DIAGRAM):   proc print data=_tempNobs noobs label;
28590      title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
28591      title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_partitionSummary_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Partition Summary";
MPRINT(EM_DIAGRAM):   run;
28592      run;
 
NOTE: There were 4 observations read from the data set WORK._TEMPNOBS.
NOTE: The PROCEDURE PRINT printed page 6.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
28593      title10;
MPRINT(EM_DIAGRAM):   title10;
28594      options &_cn &_nb;
MPRINT(EM_DIAGRAM):   options NOCENTER NONUMBER;
MPRINT(EM_DIAGRAM):   run;
28595      run;
 
MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "November 12, 2019" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "16:26:19" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Score Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Score Log
Date:                November 12, 2019
Time:                16:26:19
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O1401OMZ "C:\Users\student\Desktop\AA 490\Final Project\AA490_Project\Base Model\Workspaces\EMWS1\Part2\EMSCORE.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O1401OMZ new;
MPRINT(EM_DIAGRAM):   run;
28697      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
28698      * Part2: Computing metadata for TRAIN data;
MPRINT(EM_DIAGRAM):   * Part2: Computing metadata for TRAIN data;
28699      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
 
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * &nodeid: Computing Metadata for TRAIN data;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   filename _delta "C:\Users\student\Desktop\AA 490\Final Project\AA490_Project\Base Model\Workspaces\EMWS1\Part2\CDELTA_TRAIN.sas";
MPRINT(EMADVISECOLUMNS):   proc display c=sashelp.emmeta.advisecolumns.scl;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    options validvarname=any;
MPRINT(EMADVISECOLUMNS):   proc contents data=EMWS1.Part2_TRAIN out=_tempAdvisor noprint;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):   options validvarname=V7;
MPRINT(EMADVISECOLUMNS):    data _null_;
MPRINT(EMADVISECOLUMNS):   dsid = open('EMWS1.Part2_TRAIN');
MPRINT(EMADVISECOLUMNS):   call symput('_dsidTable', strip(put(dsid, best.)));
MPRINT(EMADVISECOLUMNS):   if dsid then do;
MPRINT(EMADVISECOLUMNS):   call symput('_engineTable', attrc(dsid, 'ENGINE'));
MPRINT(EMADVISECOLUMNS):   dsid = close(dsid);
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    options fmterr;
MPRINT(EMADVISECOLUMNS):   data _metaTestView;
MPRINT(EMADVISECOLUMNS):   set EMWS1.Part2_TRAIN;
MPRINT(EMADVISECOLUMNS):   if _N_=1 then do;
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   stop;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    proc contents data=EMWS1.Part2_TRAIN out=WORK.M1765YRF noprint;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M1765YRF;
MPRINT(EMADVISECOLUMNS):   length NAME $ 64 TYPE $ 1 LABEL $ 200 FORMAT $ 36 INFORMAT $36 INDEX $ 1 INDEXTYPE $ 9;
MPRINT(EMADVISECOLUMNS):   label NAME =;
MPRINT(EMADVISECOLUMNS):   set WORK.M1765YRF(keep=name type length label format formatl formatd informat informl informd idxusage rename=(type=itype));
MPRINT(EMADVISECOLUMNS):   if itype = 1 then type = 'N';
MPRINT(EMADVISECOLUMNS):   else type = 'C';
MPRINT(EMADVISECOLUMNS):   if formatl > 0 then do;
MPRINT(EMADVISECOLUMNS):   if format ne '' then do;
MPRINT(EMADVISECOLUMNS):   if type='N' then format = strip(format)!!strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EMADVISECOLUMNS):   else format = strip(format)!!strip(put(formatl, best12.))!!'.';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else format = strip(put(formatl, best12.))!!'.'!!strip(put(formatd, best12.));
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if format ne '' then format = strip(format)!!'.';
MPRINT(EMADVISECOLUMNS):   if informl > 0 then do;
MPRINT(EMADVISECOLUMNS):   if informat ne ' ' then do;
MPRINT(EMADVISECOLUMNS):   if type='N' then informat = strip(informat)!!strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EMADVISECOLUMNS):   else informat = strip(informat)!!strip(put(informl, best12.))!!'.';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else informat = strip(put(informl, best12.))!!'.'!!strip(put(informd, best12.));
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if informat ne '' then informat = strip(informat)!!'.';
MPRINT(EMADVISECOLUMNS):   if idxusage = 'NONE' then index ="N";
MPRINT(EMADVISECOLUMNS):   else index = "Y";
MPRINT(EMADVISECOLUMNS):   indextype = idxusage;
MPRINT(EMADVISECOLUMNS):   drop idxusage itype formatl formatd informl informd;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M1765YRF;
MPRINT(EMADVISECOLUMNS):   length UNAME $64;
MPRINT(EMADVISECOLUMNS):   set WORK.M1765YRF;
MPRINT(EMADVISECOLUMNS):   UNAME = upcase(NAME);
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    proc sort data=WORK.M2JRBBH2 NOTHREADS;
MPRINT(EMADVISECOLUMNS):   by UNAME;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M2JRBBH2;
MPRINT(EMADVISECOLUMNS):   drop UNAME;
MPRINT(EMADVISECOLUMNS):   set WORK.M2JRBBH2;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M1U81O4S(keep=NAME ATTR);
MPRINT(EMADVISECOLUMNS):   length ATTR $ 20;
MPRINT(EMADVISECOLUMNS):   set WORK.M2JRBBH2;
MPRINT(EMADVISECOLUMNS):   if level ne "INTERVAL" then do;
MPRINT(EMADVISECOLUMNS):   if order = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'ORDER';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if format ne ' ' and formattype = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'FORMATTYPE';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if role = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'ROLE';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if level = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'LEVEL';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if type = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'TYPE';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if index = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'INDEX';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if report = ' ' then do;
MPRINT(EMADVISECOLUMNS):   attr = 'REPORT';
MPRINT(EMADVISECOLUMNS):   output;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):   proc sort NOTHREADS;
MPRINT(EMADVISECOLUMNS):   by attr;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M2JRBBH2;
MPRINT(EMADVISECOLUMNS):   length NAME $64 ROLE $ 32 LEVEL $ 10 ORDER $ 8 CREATOR $32 FORMATTYPE $ 10 FAMILY $ 10 LOWERLIMIT 8 UPPERLIMIT 8 REPORT $1 DISTRIBUTION $ 20 COMMENT $64;
MPRINT(EMADVISECOLUMNS):   length levelAssigned 8 roleAssigned 8 PRICE 8;
MPRINT(EMADVISECOLUMNS):   set WORK.M2JRBBH2;
MPRINT(EMADVISECOLUMNS):   if formattype = ' ' then do;
MPRINT(EMADVISECOLUMNS):   if format ne ' ' then do;
MPRINT(EMADVISECOLUMNS):   if type = 'N' then do;
MPRINT(EMADVISECOLUMNS):   pos = indexc(format,'.1234567890');
MPRINT(EMADVISECOLUMNS):   if pos > 1 then tempfmt = substr(format,1, pos-1);
MPRINT(EMADVISECOLUMNS):   else tempfmt = ' ';
MPRINT(EMADVISECOLUMNS):   flen = length(tempfmt);
MPRINT(EMADVISECOLUMNS):   select;
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("DATE" "DAY" "DDMMYY" "DOWNAME" "JULDAY" "JULIAN" "MMDDYY" "MMDDYYD" "MMDDYYC" "MMDDYYN" "MMDDYYP" "MMDDYYS" "MONNAME" "MONTH" "MONYY" "NENGO" "QTR" "QTRR" "WEEKDATE" "WEEKDATX" "WEEKDAY" "WORDDATE" "WORDDATX"
"YEAR" "YYMMDD" "YYMON" "YYMMDDC" "YYMMDDD" "YYMMDDN" "YYMMDDP" "YYMMDDS" "EURDFDE" "NJDATE" "NLDATE" "EURDFDD" "EURDFDWN" "EURDFMN" "EURDFMY" "EURDFWK" "EURDFWKX" "EURDFWDX" "EURDFDN" "EURDFDE" )) formattype = 'DATE';
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("DATETIME" "EURDFDT" "TOD" )) formattype = "DATETIME";
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("HHMM" "HOUR" "MMSS" "TIME" "TIMEAMPM" )) formattype = "TIME";
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("COMMA" "COMMAX" "DOLLAR" "DOLLARX" "E" "FRACT" "NEGPAREN" "PERCENT")) formattype="QUANTITY";
MPRINT(EMADVISECOLUMNS):   when(tempfmt in ("BINARY" "HEX" "IB" "OCTAL" "PD" "PIB" "PK" "RB" "SSN" "Z" "ZD")) formattype = "CODING";
MPRINT(EMADVISECOLUMNS):   otherwise do;
MPRINT(EMADVISECOLUMNS):   formattype = "USER";
MPRINT(EMADVISECOLUMNS):   if compress(tempfmt, '0123456789.', '') = '' then formattype='NUM';
MPRINT(EMADVISECOLUMNS):   else if substr(tempfmt, 1, 6)='NLDATE' then formattype = "DATE";
MPRINT(EMADVISECOLUMNS):   else if substr(tempfmt, 1, 6)='NLDATM' then formattype = "DATETIME";
MPRINT(EMADVISECOLUMNS):   else if substr(tempfmt, 1, 4)='NLTIM' then formattype = "TIME";
MPRINT(EMADVISECOLUMNS):   else if flen >= 4 then do;
MPRINT(EMADVISECOLUMNS):   str = substr(tempfmt,1,4);
MPRINT(EMADVISECOLUMNS):   if str in ("MMYY" "YYMM" "YYQR") then formattype ="DATE";
MPRINT(EMADVISECOLUMNS):   else if str = "S370" then formattype = "CODING";
MPRINT(EMADVISECOLUMNS):   else if str = "BEST" then formattype = "NUM";
MPRINT(EMADVISECOLUMNS):   drop str;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if flen >=3 and substr(tempfmt,1,3) = "YYQ" then formatType = "DATE";
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   drop flen tempfmt pos;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else do;
MPRINT(EMADVISECOLUMNS):   formatType = "CATEGORY";
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if formatType = "NUM" then do;
MPRINT(EMADVISECOLUMNS):   if index = "Y" then formatType = "DISCRETE";
MPRINT(EMADVISECOLUMNS):   else formatType = "QUANTITY";
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if level = ' ' then do;
MPRINT(EMADVISECOLUMNS):   if formatType in ("CATEGORY", "CODING", "ID") or type = "C" then level = "NOMINAL";
MPRINT(EMADVISECOLUMNS):   else level = "INTERVAL";
MPRINT(EMADVISECOLUMNS):   levelAssigned = 1;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else level = upcase(level);
MPRINT(EMADVISECOLUMNS):   if role = ' ' then do;
MPRINT(EMADVISECOLUMNS):   length name_prefix $8 _uname $64;
MPRINT(EMADVISECOLUMNS):   drop name_prefix _uname _freqflag;
MPRINT(EMADVISECOLUMNS):   retain _freqflag;
MPRINT(EMADVISECOLUMNS):   if LENGTH> 80 then ROLE = 'TEXT';
MPRINT(EMADVISECOLUMNS):   _uname = upcase(NAME);
MPRINT(EMADVISECOLUMNS):   select(_uname);
MPRINT(EMADVISECOLUMNS):   when('_PARTIND_') do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'ID';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   when('_WARN_') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_SEGMENT') do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'SEGMENT';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   when('_NODE_') do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'SEGMENT';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   when('EM_CLASSTARGET') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_VALUETARGET') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_PREDICTION') ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   when('EM_PROBABILITY') ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   when('EM_EVENTPROBABILITY') ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   when('EM_CLASSIFICATION') ROLE = 'CLASSIFICATION';
MPRINT(EMADVISECOLUMNS):   when('EM_DECISION') ROLE = 'DECISION';
MPRINT(EMADVISECOLUMNS):   when('EM_PROFIT') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_LOSS') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('EM_ROI') ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   when('URI') ROLE = 'URL';
MPRINT(EMADVISECOLUMNS):   when('FILTERED') ROLE = 'TEXTLOC';
MPRINT(EMADVISECOLUMNS):   otherwise do;
MPRINT(EMADVISECOLUMNS):   if upcase(NAME) =: 'ZIP' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'REJECTED';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   COMMENT = 'Rejected by: Exceed the maximum class level of %s';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if upcase(NAME) in('FREQ', 'FREQUENCY') then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'FREQ';
MPRINT(EMADVISECOLUMNS):   if TYPE = 'C' then ROLE = 'INPUT';
MPRINT(EMADVISECOLUMNS):   else if _freqflag =1 then ROLE='REJECTED';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else do;
MPRINT(EMADVISECOLUMNS):   name_prefix = scan(_uname, 1, '_');
MPRINT(EMADVISECOLUMNS):   if scan(_uname, 2, '_') = '' then name_prefix='';
MPRINT(EMADVISECOLUMNS):   if name_prefix in('F', 'I', 'U') then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'CLASSIFICATION';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('Q') then ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('P', 'V') then ROLE = 'PREDICT';
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('R', 'RS', 'RT', 'RD', 'RDS', 'RDT', 'RA', 'RAS', 'RAT') then ROLE = 'RESIDUAL';
MPRINT(EMADVISECOLUMNS):   else if name_prefix ='D' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'DECISION';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if name_prefix ='B' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'SEGMENT';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else if name_prefix in('EP', 'BP', 'CP', 'EL', 'CL', 'BL', 'W', 'ROI', 'IC') then ROLE = 'ASSESS';
MPRINT(EMADVISECOLUMNS):   else do;
MPRINT(EMADVISECOLUMNS):   array _ROLE_ (19) $32 _TEMPORARY_ ('ASSESS','CLASSIFICATION','CENSOR', 'COST', 'CROSSID', 'DECISION', 'ID','INPUT', 'LABEL', 'MISSING','PREDICT','REFERRER','REJECTED', 'RESIDUAL','SEGMENT', 'SEQUENCE','TARGET', 'TEXT', 'TIMEID');
MPRINT(EMADVISECOLUMNS):   drop _found_ i;
MPRINT(EMADVISECOLUMNS):   _found_=0;
MPRINT(EMADVISECOLUMNS):   do i=1 to 19 until(_found_=1);
MPRINT(EMADVISECOLUMNS):   if index(_uname, trim(_ROLE_{i}))=1 then do;
MPRINT(EMADVISECOLUMNS):   ROLE=_ROLE_{i};
MPRINT(EMADVISECOLUMNS):   if ROLE = 'ID' then LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   else if ROLE = 'SEGMENT' then LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   else if ROLE = 'TIMEID' and TYPE='N' then LEVEL = 'INTERVAL';
MPRINT(EMADVISECOLUMNS):   _found_=1;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if length(_uname)>2 then do;
MPRINT(EMADVISECOLUMNS):   if substr(reverse(trim(_uname)), 1, 3) = 'DI_' then do;
MPRINT(EMADVISECOLUMNS):   ROLE = 'ID';
MPRINT(EMADVISECOLUMNS):   LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if ROLE='FREQ' then _freqflag=1;
MPRINT(EMADVISECOLUMNS):   else if ROLE = 'CLASSIFICATION' then LEVEL = 'NOMINAL';
MPRINT(EMADVISECOLUMNS):   if symexist('RATEMKG_ROLE') then do;
MPRINT(EMADVISECOLUMNS):   if upcase(symget('RATEMKG_ROLE')) in('Y', 'YES') then do;
MPRINT(EMADVISECOLUMNS):   if _uname =: 'POLICY' then ROLE = 'POLICYID';
MPRINT(EMADVISECOLUMNS):   else if _uname in ('PARTITION', '_PARTIND_') then ROLE = 'PARTITION';
MPRINT(EMADVISECOLUMNS):   else if type = 'N' then do;
MPRINT(EMADVISECOLUMNS):   if _uname = 'EXPOSURE' then ROLE = 'EXPOSURE';
MPRINT(EMADVISECOLUMNS):   else if _uname = 'YEAR' then ROLE = 'YEAR';
MPRINT(EMADVISECOLUMNS):   else if _uname = 'WEIGHT' then ROLE = 'WEIGHT';
MPRINT(EMADVISECOLUMNS):   else if _uname = 'OFFSET' then ROLE = 'OFFSET';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   if role = ' ' then do;
MPRINT(EMADVISECOLUMNS):   if formattype in('DATE', 'DATETIME', 'TIME') then role = 'TIMEID';
MPRINT(EMADVISECOLUMNS):   else role = 'INPUT';
MPRINT(EMADVISECOLUMNS):   roleAssigned = 1;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   else role = upcase(role);
MPRINT(EMADVISECOLUMNS):   if REPORT = '' then REPORT = 'N';
MPRINT(EMADVISECOLUMNS):   if symexist('dmwb_product') then do;
MPRINT(EMADVISECOLUMNS):   if upcase(symget('dmwb_product')) = 'FACTORYMINER_DATASOURCE' then do;
MPRINT(EMADVISECOLUMNS):   if ROLE ^in('INPUT', 'TARGET', 'REJECTED', 'SEGMENT', 'FREQ', 'ID', 'KEY') then ROLE='REJECTED';
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   end;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):    data WORK.M2JRBBH2;
MPRINT(EMADVISECOLUMNS):   set WORK.M2JRBBH2;
MPRINT(EMADVISECOLUMNS):   label NAME = "Variable Name" TYPE = "Type" ROLE = "Role" LEVEL= "Measurement Level" ORDER= "Order" CREATOR= "Creator" FORMATTYPE= "Format Type" FAMILY= "Family" DISTRIBUTION= "Distribution" PRICE= "Price" LOWERLIMIT= "Lower
limit" UPPERLIMIT= "Upper Limit" REPORT= "Report" COMMENT= "Comment" INDEX= "Index" INDEXTYPE= "IndexType" LABEL= "Label" LENGTH= "Length";
MPRINT(EMADVISECOLUMNS):   drop levelAssigned roleAssigned;
MPRINT(EMADVISECOLUMNS):   run;
MPRINT(EMADVISECOLUMNS):
MPRINT(EM_DIAGRAM):  ;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.COLUMNMETA;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * &nodeid: Merge incoming metadata;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   proc contents data=EMWS1.Stat3_TRAIN noprint out=_temp2(keep=NAME);
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=_temp2;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Stat3_CMeta_TRAIN out=_temp;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data EMWS1.Part2_CMeta_TRAIN;
MPRINT(EM_DIAGRAM):   merge WORK.COLUMNMETA(in=_a) _temp2(in=_b) _temp(drop=FORMAT INFORMAT LENGTH INDEX INDEXTYPE in=_c) end=_eof_;
MPRINT(EM_DIAGRAM):   by NAME;
MPRINT(EM_DIAGRAM):   if (^_a and _b) or (^_c and _a and _b) then delete;
MPRINT(EM_DIAGRAM):   if ^_b then CREATOR = "Part2";
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   * Part2: Apply Delta Code;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   if upcase(NAME) = '_DATAOBS_' then ROLE='ID';
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   filename _delta;
MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data _null_;
MPRINT(EM_DIAGRAM):   call symput('NLDATE', strip(put(date(), NLDATE.)));
MPRINT(EM_DIAGRAM):   call symput('NLTIME', strip(put(datetime(), NLTIME.)));
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):   data _null_;
MPRINT(EM_DIAGRAM):   nldate= sasmsg("sashelp.dmine", "log_date_note", 'N', "November 12, 2019" );
MPRINT(EM_DIAGRAM):   nltime= sasmsg("sashelp.dmine", "log_time_note", 'N', "16:26:19" );
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   put "* Report Log";
MPRINT(EM_DIAGRAM):   put nldate;
MPRINT(EM_DIAGRAM):   put nltime;
MPRINT(EM_DIAGRAM):   put "*------------------------------------------------------------*";
MPRINT(EM_DIAGRAM):   run;
*------------------------------------------------------------*
* Report Log
Date:                November 12, 2019
Time:                16:26:19
*------------------------------------------------------------*
MPRINT(EM_DIAGRAM):    filename O2AWAR79 "C:\Users\student\Desktop\AA 490\Final Project\AA490_Project\Base Model\Workspaces\EMWS1\Part2\EMREPORT.out" encoding="UTF-8" NOBOM;
MPRINT(EM_DIAGRAM):   proc printto print=O2AWAR79 new;
MPRINT(EM_DIAGRAM):   run;
MPRINT(EM_DIAGRAM):    data WORK.M3MJWU_1;
MPRINT(EM_DIAGRAM):   set WORK.M3MJWU_1;
MPRINT(EM_DIAGRAM):   where(ROLE = "TARGET" or ROLE = "FREQ");
MPRINT(EM_DIAGRAM):   run;
29073      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
29074      * Part2: Computing statistics for class target variables;
MPRINT(EM_DIAGRAM):   * Part2: Computing statistics for class target variables;
29075      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
29076      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
29077      * Part2: Computing statistics for interval target variables;
MPRINT(EM_DIAGRAM):   * Part2: Computing statistics for interval target variables;
29078      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
29079      proc means data=EMWS1.Stat3_TRAIN min max mean std noprint;
MPRINT(EM_DIAGRAM):   proc means data=EMWS1.Stat3_TRAIN min max mean std noprint;
29080      output out=WORK.Part2_STATTEMP;
MPRINT(EM_DIAGRAM):   output out=WORK.Part2_STATTEMP;
29081      var
29082      OG_Cases_in_Thousands
29083      ;
MPRINT(EM_DIAGRAM):   var OG_Cases_in_Thousands ;
29084      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1575 observations read from the data set DISEASE.OG_DISEASE_AND_PROJECTED.
NOTE: View EMWS1.STAT3_TRAIN.VIEW used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
NOTE: There were 1575 observations read from the data set EMWS1.IDS_DATA.
NOTE: There were 1575 observations read from the data set EMWS1.STAT3_TRAIN.
NOTE: The data set WORK.PART2_STATTEMP has 5 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
29085      proc sort data=WORK.Part2_STATTEMP NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.Part2_STATTEMP NOTHREADS;
29086      by _stat_;
MPRINT(EM_DIAGRAM):   by _stat_;
29087      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.PART2_STATTEMP.
NOTE: The data set WORK.PART2_STATTEMP has 5 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29088      proc transpose data=WORK.Part2_STATTEMP out=WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   proc transpose data=WORK.Part2_STATTEMP out=WORK.Part2_BASICSTAT;
29089      id _stat_;
MPRINT(EM_DIAGRAM):   id _stat_;
29090      copy _FREQ_;
MPRINT(EM_DIAGRAM):   copy _FREQ_;
29091      var
29092      OG_Cases_in_Thousands
29093      ;
MPRINT(EM_DIAGRAM):   var OG_Cases_in_Thousands ;
29094      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.PART2_STATTEMP.
NOTE: The data set WORK.PART2_BASICSTAT has 5 observations and 7 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29095      data _statNamelbl;
MPRINT(EM_DIAGRAM):   data _statNamelbl;
29096      set WORK.M3MJWU_1(keep=NAME LABEL rename=(NAME=_NAME_ LABEL=_LABEL_));
MPRINT(EM_DIAGRAM):   set WORK.M3MJWU_1(keep=NAME LABEL rename=(NAME=_NAME_ LABEL=_LABEL_));
29097      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK.M3MJWU_1.
NOTE: The data set WORK._STATNAMELBL has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29098      proc sort data=_statNamelbl;
MPRINT(EM_DIAGRAM):   proc sort data=_statNamelbl;
29099      by _NAME_;
MPRINT(EM_DIAGRAM):   by _NAME_;
29100      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK._STATNAMELBL.
NOTE: The data set WORK._STATNAMELBL has 1 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29101      proc sort data=WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.Part2_BASICSTAT;
29102      by _NAME_;
MPRINT(EM_DIAGRAM):   by _NAME_;
29103      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.PART2_BASICSTAT.
NOTE: The data set WORK.PART2_BASICSTAT has 5 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29104      data WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   data WORK.Part2_BASICSTAT;
29105      label _NAME_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN = "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel, NOQUOTE))" MIN =
29106         "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonMiss_vlabel, NOQUOTE))" NMiss = "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" STD =
29107         "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel, NOQUOTE))" _LABEL_= "%sysfunc(sasmsg(sashelp.dmine, rpt_label_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label _NAME_ = "Variable" MAX = "Maximum" MEAN = "Mean" MIN = "Minimum" N = "Non Missing" NMiss = "Missing" STD = "Standard Deviation" _LABEL_= "Label";
29108      merge _statnamelbl(in=_a) WORK.Part2_BASICSTAT(in=_b);
MPRINT(EM_DIAGRAM):   merge _statnamelbl(in=_a) WORK.Part2_BASICSTAT(in=_b);
29109      by _NAME_;
MPRINT(EM_DIAGRAM):   by _NAME_;
29110      where _NAME_ ne '';
MPRINT(EM_DIAGRAM):   where _NAME_ ne '';
29111      NMISS = _FREQ_ - N;
MPRINT(EM_DIAGRAM):   NMISS = _FREQ_ - N;
29112      drop _FREQ_;
MPRINT(EM_DIAGRAM):   drop _FREQ_;
29113      if _a and _b then output;
MPRINT(EM_DIAGRAM):   if _a and _b then output;
29114      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK._STATNAMELBL.
      WHERE _NAME_ not = ' ';
NOTE: There were 1 observations read from the data set WORK.PART2_BASICSTAT.
      WHERE _NAME_ not = ' ';
NOTE: The data set WORK.PART2_BASICSTAT has 1 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29115      data EMWS1.Part2_INTRVL;
MPRINT(EM_DIAGRAM):    data EMWS1.Part2_INTRVL;
29116      label DATA = "%sysfunc(sasmsg(sashelp.dmine, rpt_data_vlabel ,   NOQUOTE))";
MPRINT(EM_DIAGRAM):   label DATA = "Data";
29117      length DATA $8;
MPRINT(EM_DIAGRAM):   length DATA $8;
29118      set WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   set WORK.Part2_BASICSTAT;
29119      DATA = 'DATA';
MPRINT(EM_DIAGRAM):   DATA = 'DATA';
29120      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK.PART2_BASICSTAT.
NOTE: The data set EMWS1.PART2_INTRVL has 1 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29121      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
29122      * Part2: Computing statistics for class target variables;
MPRINT(EM_DIAGRAM):   * Part2: Computing statistics for class target variables;
29123      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
29124      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
29125      * Part2: Computing statistics for interval target variables;
MPRINT(EM_DIAGRAM):   * Part2: Computing statistics for interval target variables;
29126      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
29127      proc means data=EMWS1.Part2_TRAIN min max mean std noprint;
MPRINT(EM_DIAGRAM):   proc means data=EMWS1.Part2_TRAIN min max mean std noprint;
29128      output out=WORK.Part2_STATTEMP;
MPRINT(EM_DIAGRAM):   output out=WORK.Part2_STATTEMP;
29129      var
29130      OG_Cases_in_Thousands
29131      ;
MPRINT(EM_DIAGRAM):   var OG_Cases_in_Thousands ;
29132      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 630 observations read from the data set EMWS1.PART2_TRAIN.
NOTE: The data set WORK.PART2_STATTEMP has 5 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
29133      proc sort data=WORK.Part2_STATTEMP NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.Part2_STATTEMP NOTHREADS;
29134      by _stat_;
MPRINT(EM_DIAGRAM):   by _stat_;
29135      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.PART2_STATTEMP.
NOTE: The data set WORK.PART2_STATTEMP has 5 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29136      proc transpose data=WORK.Part2_STATTEMP out=WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   proc transpose data=WORK.Part2_STATTEMP out=WORK.Part2_BASICSTAT;
29137      id _stat_;
MPRINT(EM_DIAGRAM):   id _stat_;
29138      copy _FREQ_;
MPRINT(EM_DIAGRAM):   copy _FREQ_;
29139      var
29140      OG_Cases_in_Thousands
29141      ;
MPRINT(EM_DIAGRAM):   var OG_Cases_in_Thousands ;
29142      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.PART2_STATTEMP.
NOTE: The data set WORK.PART2_BASICSTAT has 5 observations and 7 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
29143      data _statNamelbl;
MPRINT(EM_DIAGRAM):   data _statNamelbl;
29144      set WORK.M3MJWU_1(keep=NAME LABEL rename=(NAME=_NAME_ LABEL=_LABEL_));
MPRINT(EM_DIAGRAM):   set WORK.M3MJWU_1(keep=NAME LABEL rename=(NAME=_NAME_ LABEL=_LABEL_));
29145      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK.M3MJWU_1.
NOTE: The data set WORK._STATNAMELBL has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29146      proc sort data=_statNamelbl;
MPRINT(EM_DIAGRAM):   proc sort data=_statNamelbl;
29147      by _NAME_;
MPRINT(EM_DIAGRAM):   by _NAME_;
29148      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK._STATNAMELBL.
NOTE: The data set WORK._STATNAMELBL has 1 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29149      proc sort data=WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.Part2_BASICSTAT;
29150      by _NAME_;
MPRINT(EM_DIAGRAM):   by _NAME_;
29151      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.PART2_BASICSTAT.
NOTE: The data set WORK.PART2_BASICSTAT has 5 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29152      data WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   data WORK.Part2_BASICSTAT;
29153      label _NAME_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN = "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel, NOQUOTE))" MIN =
29154         "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonMiss_vlabel, NOQUOTE))" NMiss = "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" STD =
29155         "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel, NOQUOTE))" _LABEL_= "%sysfunc(sasmsg(sashelp.dmine, rpt_label_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label _NAME_ = "Variable" MAX = "Maximum" MEAN = "Mean" MIN = "Minimum" N = "Non Missing" NMiss = "Missing" STD = "Standard Deviation" _LABEL_= "Label";
29156      merge _statnamelbl(in=_a) WORK.Part2_BASICSTAT(in=_b);
MPRINT(EM_DIAGRAM):   merge _statnamelbl(in=_a) WORK.Part2_BASICSTAT(in=_b);
29157      by _NAME_;
MPRINT(EM_DIAGRAM):   by _NAME_;
29158      where _NAME_ ne '';
MPRINT(EM_DIAGRAM):   where _NAME_ ne '';
29159      NMISS = _FREQ_ - N;
MPRINT(EM_DIAGRAM):   NMISS = _FREQ_ - N;
29160      drop _FREQ_;
MPRINT(EM_DIAGRAM):   drop _FREQ_;
29161      if _a and _b then output;
MPRINT(EM_DIAGRAM):   if _a and _b then output;
29162      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK._STATNAMELBL.
      WHERE _NAME_ not = ' ';
NOTE: There were 1 observations read from the data set WORK.PART2_BASICSTAT.
      WHERE _NAME_ not = ' ';
NOTE: The data set WORK.PART2_BASICSTAT has 1 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
29163      data WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):    data WORK.Part2_BASICSTAT;
29164      label DATA = "%sysfunc(sasmsg(sashelp.dmine, rpt_data_vlabel ,   NOQUOTE))";
MPRINT(EM_DIAGRAM):   label DATA = "Data";
29165      length DATA $8;
MPRINT(EM_DIAGRAM):   length DATA $8;
29166      set WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   set WORK.Part2_BASICSTAT;
29167      DATA = "TRAIN";
MPRINT(EM_DIAGRAM):   DATA = "TRAIN";
29168      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK.PART2_BASICSTAT.
NOTE: The data set WORK.PART2_BASICSTAT has 1 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29169      data EMWS1.Part2_INTRVL;
MPRINT(EM_DIAGRAM):   data EMWS1.Part2_INTRVL;
29170      set EMWS1.Part2_INTRVL WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   set EMWS1.Part2_INTRVL WORK.Part2_BASICSTAT;
29171      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set EMWS1.PART2_INTRVL.
NOTE: There were 1 observations read from the data set WORK.PART2_BASICSTAT.
NOTE: The data set EMWS1.PART2_INTRVL has 2 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29172      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
29173      * Part2: Computing statistics for class target variables;
MPRINT(EM_DIAGRAM):   * Part2: Computing statistics for class target variables;
29174      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
29175      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
29176      * Part2: Computing statistics for interval target variables;
MPRINT(EM_DIAGRAM):   * Part2: Computing statistics for interval target variables;
29177      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
29178      proc means data=EMWS1.Part2_VALIDATE min max mean std noprint;
MPRINT(EM_DIAGRAM):   proc means data=EMWS1.Part2_VALIDATE min max mean std noprint;
29179      output out=WORK.Part2_STATTEMP;
MPRINT(EM_DIAGRAM):   output out=WORK.Part2_STATTEMP;
29180      var
29181      OG_Cases_in_Thousands
29182      ;
MPRINT(EM_DIAGRAM):   var OG_Cases_in_Thousands ;
29183      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 473 observations read from the data set EMWS1.PART2_VALIDATE.
NOTE: The data set WORK.PART2_STATTEMP has 5 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29184      proc sort data=WORK.Part2_STATTEMP NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.Part2_STATTEMP NOTHREADS;
29185      by _stat_;
MPRINT(EM_DIAGRAM):   by _stat_;
29186      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.PART2_STATTEMP.
NOTE: The data set WORK.PART2_STATTEMP has 5 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
29187      proc transpose data=WORK.Part2_STATTEMP out=WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   proc transpose data=WORK.Part2_STATTEMP out=WORK.Part2_BASICSTAT;
29188      id _stat_;
MPRINT(EM_DIAGRAM):   id _stat_;
29189      copy _FREQ_;
MPRINT(EM_DIAGRAM):   copy _FREQ_;
29190      var
29191      OG_Cases_in_Thousands
29192      ;
MPRINT(EM_DIAGRAM):   var OG_Cases_in_Thousands ;
29193      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.PART2_STATTEMP.
NOTE: The data set WORK.PART2_BASICSTAT has 5 observations and 7 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29194      data _statNamelbl;
MPRINT(EM_DIAGRAM):   data _statNamelbl;
29195      set WORK.M3MJWU_1(keep=NAME LABEL rename=(NAME=_NAME_ LABEL=_LABEL_));
MPRINT(EM_DIAGRAM):   set WORK.M3MJWU_1(keep=NAME LABEL rename=(NAME=_NAME_ LABEL=_LABEL_));
29196      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK.M3MJWU_1.
NOTE: The data set WORK._STATNAMELBL has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
29197      proc sort data=_statNamelbl;
MPRINT(EM_DIAGRAM):   proc sort data=_statNamelbl;
29198      by _NAME_;
MPRINT(EM_DIAGRAM):   by _NAME_;
29199      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK._STATNAMELBL.
NOTE: The data set WORK._STATNAMELBL has 1 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29200      proc sort data=WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.Part2_BASICSTAT;
29201      by _NAME_;
MPRINT(EM_DIAGRAM):   by _NAME_;
29202      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.PART2_BASICSTAT.
NOTE: The data set WORK.PART2_BASICSTAT has 5 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29203      data WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   data WORK.Part2_BASICSTAT;
29204      label _NAME_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN = "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel, NOQUOTE))" MIN =
29205         "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonMiss_vlabel, NOQUOTE))" NMiss = "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" STD =
29206         "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel, NOQUOTE))" _LABEL_= "%sysfunc(sasmsg(sashelp.dmine, rpt_label_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label _NAME_ = "Variable" MAX = "Maximum" MEAN = "Mean" MIN = "Minimum" N = "Non Missing" NMiss = "Missing" STD = "Standard Deviation" _LABEL_= "Label";
29207      merge _statnamelbl(in=_a) WORK.Part2_BASICSTAT(in=_b);
MPRINT(EM_DIAGRAM):   merge _statnamelbl(in=_a) WORK.Part2_BASICSTAT(in=_b);
29208      by _NAME_;
MPRINT(EM_DIAGRAM):   by _NAME_;
29209      where _NAME_ ne '';
MPRINT(EM_DIAGRAM):   where _NAME_ ne '';
29210      NMISS = _FREQ_ - N;
MPRINT(EM_DIAGRAM):   NMISS = _FREQ_ - N;
29211      drop _FREQ_;
MPRINT(EM_DIAGRAM):   drop _FREQ_;
29212      if _a and _b then output;
MPRINT(EM_DIAGRAM):   if _a and _b then output;
29213      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK._STATNAMELBL.
      WHERE _NAME_ not = ' ';
NOTE: There were 1 observations read from the data set WORK.PART2_BASICSTAT.
      WHERE _NAME_ not = ' ';
NOTE: The data set WORK.PART2_BASICSTAT has 1 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
29214      data WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):    data WORK.Part2_BASICSTAT;
29215      label DATA = "%sysfunc(sasmsg(sashelp.dmine, rpt_data_vlabel ,   NOQUOTE))";
MPRINT(EM_DIAGRAM):   label DATA = "Data";
29216      length DATA $8;
MPRINT(EM_DIAGRAM):   length DATA $8;
29217      set WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   set WORK.Part2_BASICSTAT;
29218      DATA = "VALIDATE";
MPRINT(EM_DIAGRAM):   DATA = "VALIDATE";
29219      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK.PART2_BASICSTAT.
NOTE: The data set WORK.PART2_BASICSTAT has 1 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29220      data EMWS1.Part2_INTRVL;
MPRINT(EM_DIAGRAM):   data EMWS1.Part2_INTRVL;
29221      set EMWS1.Part2_INTRVL WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   set EMWS1.Part2_INTRVL WORK.Part2_BASICSTAT;
29222      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 2 observations read from the data set EMWS1.PART2_INTRVL.
NOTE: There were 1 observations read from the data set WORK.PART2_BASICSTAT.
NOTE: The data set EMWS1.PART2_INTRVL has 3 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
29223      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):    *------------------------------------------------------------*;
29224      * Part2: Computing statistics for class target variables;
MPRINT(EM_DIAGRAM):   * Part2: Computing statistics for class target variables;
29225      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
29226      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
29227      * Part2: Computing statistics for interval target variables;
MPRINT(EM_DIAGRAM):   * Part2: Computing statistics for interval target variables;
29228      *------------------------------------------------------------*;
MPRINT(EM_DIAGRAM):   *------------------------------------------------------------*;
29229      proc means data=EMWS1.Part2_TEST min max mean std noprint;
MPRINT(EM_DIAGRAM):   proc means data=EMWS1.Part2_TEST min max mean std noprint;
29230      output out=WORK.Part2_STATTEMP;
MPRINT(EM_DIAGRAM):   output out=WORK.Part2_STATTEMP;
29231      var
29232      OG_Cases_in_Thousands
29233      ;
MPRINT(EM_DIAGRAM):   var OG_Cases_in_Thousands ;
29234      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 472 observations read from the data set EMWS1.PART2_TEST.
NOTE: The data set WORK.PART2_STATTEMP has 5 observations and 4 variables.
NOTE: PROCEDURE MEANS used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
29235      proc sort data=WORK.Part2_STATTEMP NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.Part2_STATTEMP NOTHREADS;
29236      by _stat_;
MPRINT(EM_DIAGRAM):   by _stat_;
29237      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.PART2_STATTEMP.
NOTE: The data set WORK.PART2_STATTEMP has 5 observations and 4 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29238      proc transpose data=WORK.Part2_STATTEMP out=WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   proc transpose data=WORK.Part2_STATTEMP out=WORK.Part2_BASICSTAT;
29239      id _stat_;
MPRINT(EM_DIAGRAM):   id _stat_;
29240      copy _FREQ_;
MPRINT(EM_DIAGRAM):   copy _FREQ_;
29241      var
29242      OG_Cases_in_Thousands
29243      ;
MPRINT(EM_DIAGRAM):   var OG_Cases_in_Thousands ;
29244      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.PART2_STATTEMP.
NOTE: The data set WORK.PART2_BASICSTAT has 5 observations and 7 variables.
NOTE: PROCEDURE TRANSPOSE used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29245      data _statNamelbl;
MPRINT(EM_DIAGRAM):   data _statNamelbl;
29246      set WORK.M3MJWU_1(keep=NAME LABEL rename=(NAME=_NAME_ LABEL=_LABEL_));
MPRINT(EM_DIAGRAM):   set WORK.M3MJWU_1(keep=NAME LABEL rename=(NAME=_NAME_ LABEL=_LABEL_));
29247      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK.M3MJWU_1.
NOTE: The data set WORK._STATNAMELBL has 1 observations and 2 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29248      proc sort data=_statNamelbl;
MPRINT(EM_DIAGRAM):   proc sort data=_statNamelbl;
29249      by _NAME_;
MPRINT(EM_DIAGRAM):   by _NAME_;
29250      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK._STATNAMELBL.
NOTE: The data set WORK._STATNAMELBL has 1 observations and 2 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29251      proc sort data=WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   proc sort data=WORK.Part2_BASICSTAT;
29252      by _NAME_;
MPRINT(EM_DIAGRAM):   by _NAME_;
29253      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 5 observations read from the data set WORK.PART2_BASICSTAT.
NOTE: The data set WORK.PART2_BASICSTAT has 5 observations and 7 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29254      data WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   data WORK.Part2_BASICSTAT;
29255      label _NAME_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel, NOQUOTE))" MEAN = "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel, NOQUOTE))" MIN =
29256         "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel, NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_nonMiss_vlabel, NOQUOTE))" NMiss = "%sysfunc(sasmsg(sashelp.dmine, rpt_missing_vlabel, NOQUOTE))" STD =
29257         "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel, NOQUOTE))" _LABEL_= "%sysfunc(sasmsg(sashelp.dmine, rpt_label_vlabel, NOQUOTE))";
MPRINT(EM_DIAGRAM):   label _NAME_ = "Variable" MAX = "Maximum" MEAN = "Mean" MIN = "Minimum" N = "Non Missing" NMiss = "Missing" STD = "Standard Deviation" _LABEL_= "Label";
29258      merge _statnamelbl(in=_a) WORK.Part2_BASICSTAT(in=_b);
MPRINT(EM_DIAGRAM):   merge _statnamelbl(in=_a) WORK.Part2_BASICSTAT(in=_b);
29259      by _NAME_;
MPRINT(EM_DIAGRAM):   by _NAME_;
29260      where _NAME_ ne '';
MPRINT(EM_DIAGRAM):   where _NAME_ ne '';
29261      NMISS = _FREQ_ - N;
MPRINT(EM_DIAGRAM):   NMISS = _FREQ_ - N;
29262      drop _FREQ_;
MPRINT(EM_DIAGRAM):   drop _FREQ_;
29263      if _a and _b then output;
MPRINT(EM_DIAGRAM):   if _a and _b then output;
29264      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK._STATNAMELBL.
      WHERE _NAME_ not = ' ';
NOTE: There were 1 observations read from the data set WORK.PART2_BASICSTAT.
      WHERE _NAME_ not = ' ';
NOTE: The data set WORK.PART2_BASICSTAT has 1 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
29265      data WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):    data WORK.Part2_BASICSTAT;
29266      label DATA = "%sysfunc(sasmsg(sashelp.dmine, rpt_data_vlabel ,   NOQUOTE))";
MPRINT(EM_DIAGRAM):   label DATA = "Data";
29267      length DATA $8;
MPRINT(EM_DIAGRAM):   length DATA $8;
29268      set WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   set WORK.Part2_BASICSTAT;
29269      DATA = "TEST";
MPRINT(EM_DIAGRAM):   DATA = "TEST";
29270      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 1 observations read from the data set WORK.PART2_BASICSTAT.
NOTE: The data set WORK.PART2_BASICSTAT has 1 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29271      data EMWS1.Part2_INTRVL;
MPRINT(EM_DIAGRAM):   data EMWS1.Part2_INTRVL;
29272      set EMWS1.Part2_INTRVL WORK.Part2_BASICSTAT;
MPRINT(EM_DIAGRAM):   set EMWS1.Part2_INTRVL WORK.Part2_BASICSTAT;
29273      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 3 observations read from the data set EMWS1.PART2_INTRVL.
NOTE: There were 1 observations read from the data set WORK.PART2_BASICSTAT.
NOTE: The data set EMWS1.PART2_INTRVL has 4 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
29274      data EMWS1.Part2_INTRVL(rename=(_name_=VARIABLE));
MPRINT(EM_DIAGRAM):    data EMWS1.Part2_INTRVL(rename=(_name_=VARIABLE));
29275      set EMWS1.Part2_INTRVL;
MPRINT(EM_DIAGRAM):   set EMWS1.Part2_INTRVL;
29276      label _NAME_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))" MIN = "%sysfunc(sasmsg(sashelp.dmine, rpt_minimum_vlabel,  NOQUOTE))" MAX = "%sysfunc(sasmsg(sashelp.dmine, rpt_maximum_vlabel,  NOQUOTE))" MEAN =
29277         "%sysfunc(sasmsg(sashelp.dmine, rpt_mean_vlabel,     NOQUOTE))" STD = "%sysfunc(sasmsg(sashelp.dmine, rpt_std_vlabel,      NOQUOTE))" N = "%sysfunc(sasmsg(sashelp.dmine, rpt_numObs_vlabel,   NOQUOTE))";
MPRINT(EM_DIAGRAM):   label _NAME_ = "Variable" MIN = "Minimum" MAX = "Maximum" MEAN = "Mean" STD = "Standard Deviation" N = "Number of Observations";
29278      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 4 observations read from the data set EMWS1.PART2_INTRVL.
NOTE: The data set EMWS1.PART2_INTRVL has 4 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29279      proc sort data=EMWS1.Part2_INTRVL NOTHREADS;
MPRINT(EM_DIAGRAM):   proc sort data=EMWS1.Part2_INTRVL NOTHREADS;
29280      by DATA;
MPRINT(EM_DIAGRAM):   by DATA;
29281      run;
MPRINT(EM_DIAGRAM):   run;
 
NOTE: There were 4 observations read from the data set EMWS1.PART2_INTRVL.
NOTE: The data set EMWS1.PART2_INTRVL has 4 observations and 9 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
29282      %let _cn = %sysfunc(getoption(CENTER));
29283      %let _nb = %sysfunc(getoption(NUMBER));
29284      options nonumber nocenter;
MPRINT(EM_DIAGRAM):   options nonumber nocenter;
29285      proc print data=EMWS1.Part2_INTRVL noobs label;
MPRINT(EM_DIAGRAM):   proc print data=EMWS1.Part2_INTRVL noobs label;
29286      by DATA;
MPRINT(EM_DIAGRAM):   by DATA;
29287      title9 ' ';
MPRINT(EM_DIAGRAM):   title9 ' ';
29288      title10 "%sysfunc(sasmsg(sashelp.dmine,  rpt_intervalTargetStats_title, NOQUOTE))";
MPRINT(EM_DIAGRAM):   title10 "Summary Statistics for Interval Targets";
MPRINT(EM_DIAGRAM):   run;
29289      run;
 
NOTE: There were 4 observations read from the data set EMWS1.PART2_INTRVL.
NOTE: The PROCEDURE PRINT printed page 7.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
29290      title10;
MPRINT(EM_DIAGRAM):   title10;
29291      options &_cn &_nb;
MPRINT(EM_DIAGRAM):   options NOCENTER NONUMBER;
MPRINT(EM_DIAGRAM):    proc printto;
MPRINT(EM_DIAGRAM):   run;
